<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Utilizator Random - Tabel</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #bff3e2;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        /* Containerul principal */
        .profile-container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 90%;
            max-width: 600px;
            text-align: center;
        }

        /* Element media pentru poză */
        .profile-media img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 5px solid #e0e0e0;
            object-fit: cover;
            margin-bottom: 1.5rem;
        }

        /* Stiluri tabel */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
            text-align: left;
        }

        th, td {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }

        th {
            background-color: #f8f9fa;
            color: #333;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 1px;
        }

        /* Buton */
        .btn-load {
            background-color: #2c3e50;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s ease;
        }

        .btn-load:hover {
            background-color: #34495e;
        }

        .loading-text { color: #888; font-style: italic; }
    </style>
</head>
<body>

    <main class="profile-container">
        <div class="profile-media">
            <img id="user-photo" src="https://via.placeholder.com/150" alt="Poză profil">
        </div>

        <h2 id="user-full-name">Nume Utilizator</h2>

        <table>
            <thead>
                <tr>
                    <th>Gen</th>
                    <th>Țară</th>
                    <th>Oraș</th>
                    <th>Email</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td id="cell-gender">-</td>
                    <td id="cell-country">-</td>
                    <td id="cell-city">-</td>
                    <td id="cell-email">-</td>
                </tr>
            </tbody>
        </table>

        <button id="btn-load" class="btn-load">Încarcă utilizator nou</button>
    </main>

    <script>
        const btn = document.getElementById('btn-load');
        
        // Maparea elementelor din DOM
        const ui = {
            photo: document.getElementById('user-photo'),
            name: document.getElementById('user-full-name'),
            gender: document.getElementById('cell-gender'),
            country: document.getElementById('cell-country'),
            city: document.getElementById('cell-city'),
            email: document.getElementById('cell-email')
        };

        async function fetchRandomUser() {
            console.log('Cerere trimisă...');
            
            try {
                const response = await fetch('https://randomuser.me/api/');
                
                if (!response.ok) {
                    throw new Error(`Eroare HTTP: ${response.status}`);
                }

                const data = await response.json();
                console.log('Date primite cu succes');
                
                const user = data.results[0];
                populateTable(user);

            } catch (error) {
                console.error('Eroare la preluarea datelor:', error);
                alert('Eșec la încărcarea datelor. Verifică conexiunea la internet.');
            }
        }

        function populateTable(user) {
            ui.photo.src = user.picture.large;
            ui.name.innerText = `${user.name.first} ${user.name.last}`;
            ui.gender.innerText = user.gender === 'male' ? 'Masculin' : 'Feminin';
            ui.country.innerText = user.location.country;
            ui.city.innerText = user.location.city;
            ui.email.innerText = user.email;
        }

        btn.addEventListener('click', fetchRandomUser);

        // Încărcare inițială
        fetchRandomUser();
    </script>

</body>
</html>